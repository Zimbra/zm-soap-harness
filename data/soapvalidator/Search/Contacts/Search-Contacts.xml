<t:tests xmlns:t="urn:zimbraTestHarness">

<t:property name="test_acct.server" value="NOT_DEFINED"/>

<t:property name="test_account.name" value="test.${TIME}.${COUNTER}@${defaultdomain.name}"/>
<t:property name="test_account.password" value="${defaultpassword.value}"/>

<t:property name="server.zimbraAdmin" value="${zimbraServer.name}"/>

<t:test_case testcaseid="Ping" type="always" >
    <t:objective>basic system check</t:objective>

    <t:test required="true">
        <t:request>
            <PingRequest xmlns="urn:zimbraAdmin"/>
        </t:request>
        <t:response>
            <t:select path="//admin:PingResponse"/>
        </t:response>
    </t:test>
    
</t:test_case>


<t:test_case testcaseid="admin_auth" type="always" >
    <t:objective>Login as the admin and create a test account</t:objective>
    <t:steps>1. Login to admin
             2. Create a test account
    </t:steps>
    
    <t:test required="true" >
        <t:request>
            <AuthRequest xmlns="urn:zimbraAdmin">
                <name>${admin.user}</name>
                <password>${admin.password}</password>
             </AuthRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:AuthResponse/admin:authToken" set="authToken"/>
        </t:response>
    </t:test>
    
    <t:test required="true">
        <t:request>
            <CreateAccountRequest xmlns="urn:zimbraAdmin">
                <name>${test_account.name}</name>
                <password>${test_account.password}</password>
            </CreateAccountRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:CreateAccountResponse/admin:account" attr="id"  set="test_accountid.id"/>
            <t:select path='//admin:CreateAccountResponse/admin:account/admin:a[@n="zimbraMailHost"]' set="test_acct.server"/>
        </t:response>
    </t:test>

</t:test_case>


<t:property name="server.zimbraAccount" value="${test_acct.server}"/>

<t:test_case testcaseid="account_login" type="always" >
    <t:objective>Login as the test account</t:objective>

    <t:test required="true">
        <t:request>
            <AuthRequest xmlns="urn:zimbraAccount">
                <account by="name">${test_account.name}</account>
                <password>${test_account.password}</password>
            </AuthRequest>
        </t:request>
        <t:response>
            <t:select path="//acct:AuthResponse/acct:lifetime"  match="^\d+$"/>
            <t:select path="//acct:AuthResponse/acct:authToken" set="authToken"/>

        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="account_setup" type="always" >
    <t:objective>Create three contacts for General search and two contacts for Partial search </t:objective>

    <t:test id="createContactRequest1">
        <t:request>
            <CreateContactRequest xmlns="urn:zimbraMail">
                <cn>
                    <a n="firstName">firstName1</a>
                    <a n="lastName">lastName1</a>
                    <a n="email">firstname01_lastname01@testsearch.com</a>
                    <a n="company">company1</a>
                    <a n="workFax">12311</a>
                    <a n="workPhone2">12321</a>
                    <a n="callbackPhone">12331</a>
                    <a n="carPhone">12341</a>
                    <a n="homePhone2">12351</a>
                    <a n="homeFax">12361</a>
                    <a n="otherPhone">12371</a>
                    <a n="otherFax">12381</a>
                    <a n="email1">firstname11_lastname11@testsearch.com</a>
                    <a n="email2">firstname21_lastname21@testsearch.com</a>
                    <a n="middleName">middleName1</a>
                    <a n="jobTitle">jobTitle1</a>
                    <a n="workPhone">12391</a>
                    <a n="homePhone">12401</a>
                    <a n="mobilePhone">12411</a>
                    <a n="pager">12421</a>
                    <a n="email3">firstname31_lastname31@testsearch.com</a>
                    <a n="workStreet">workStreet1</a>
                    <a n="workCity">workCity1</a>
                    <a n="workState">workState1</a>
                    <a n="workPostalCode">99991</a>
                    <a n="workCountry">workCountry1</a>
                    <a n="workURL">workURL1</a>
                    <a n="notes">notes1</a>      
                </cn>     
            </CreateContactRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:CreateContactResponse/mail:cn">
            <t:select attr="id" set="contact.id1"/>
            </t:select>    
        </t:response>
    </t:test>
    
    <t:test id="createContactRequest2">
        <t:request>
            <CreateContactRequest xmlns="urn:zimbraMail">
                <cn>
                    <a n="firstName">firstName2</a>
                    <a n="lastName">lastName2</a>
                    <a n="email">firstname02_lastname02@testsearch.com</a>
                    <a n="company">company2</a>
                    <a n="workFax">12312</a>
                    <a n="workPhone2">12322</a>
                    <a n="callbackPhone">12332</a>
                    <a n="carPhone">12342</a>
                    <a n="homePhone2">12352</a>
                    <a n="homeFax">12362</a>
                    <a n="otherPhone">12372</a>
                    <a n="otherFax">12382</a>
                    <a n="email1">firstname12_lastname12@testsearch.com</a>
                    <a n="email2">firstname22_lastname22@testsearch.com</a>
                    <a n="middleName">middleName2</a>
                    <a n="jobTitle">jobTitle2</a>
                    <a n="workPhone">12392</a>
                    <a n="homePhone">12402</a>
                    <a n="mobilePhone">12412</a>
                    <a n="pager">12422</a>
                    <a n="email3">firstname32_lastname32@testsearch.com</a>
                    <a n="workStreet">workStreet2</a>
                    <a n="workCity">workCity2</a>
                    <a n="workState">workState2</a>
                    <a n="workPostalCode">99992</a>
                    <a n="workCountry">workCountry2</a>
                    <a n="workURL">workURL2</a>
                    <a n="notes">notes1 notes2</a>      
                </cn>     
            </CreateContactRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:CreateContactResponse/mail:cn">
            <t:select attr="id" set="contact.id2"/>
            </t:select>    
        </t:response>
    </t:test>
    
    <t:test id="createContactRequest3">
        <t:request>
            <CreateContactRequest xmlns="urn:zimbraMail">
                <cn>
                    <a n="firstName">firstName3</a>
                    <a n="lastName">lastName3</a>
                    <a n="email">firstName03_lastName03@testsearch.co.in</a>
                </cn>     
            </CreateContactRequest>
         </t:request>
         <t:response>
            <t:select path="//mail:CreateContactResponse/mail:cn">
            <t:select attr="id" set="contact.id3"/>
            </t:select>    
        </t:response>
    </t:test>
    
    <t:test id="createContactRequest4">
        <t:request>
            <CreateContactRequest xmlns="urn:zimbraMail">
                <cn>
                    <a n="firstName">firstName4 Name</a>
                    <a n="lastName">lastName4</a>
                    <a n="email">firstname04_lastname04@testsearch.com</a>
                    <a n="company">company4 pvt ltd</a>
                </cn>    
            </CreateContactRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:CreateContactResponse/mail:cn">
            <t:select attr="id" set="contact.id4"/>
            </t:select>    
        </t:response>
    </t:test>
    
    <t:test id="createContactRequest5">
        <t:request>
            <CreateContactRequest xmlns="urn:zimbraMail">
                <cn>
                    <a n="firstName">firstName5 Name</a>
                    <a n="lastName">lastName5</a>
                    <a n="email">firstname05_lastname05@testsearch.com</a>
                    <a n="company">company5 pvt ltd</a>
                </cn>    
            </CreateContactRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:CreateContactResponse/mail:cn">
            <t:select attr="id" set="contact.id5"/>
            </t:select>    
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="search_contact1" type="smoke">
    <t:objective>Searching with name (FirstName\Lastname\Middlename) </t:objective>
        
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>firstName1</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>          
        </t:response>
    </t:test>
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>lastName2</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>            
        </t:response>
    </t:test>
        
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>middleName2</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>            
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="search_contact2" type="sanity" >
    <t:objective>Searching with email Id </t:objective>
    
    <!--searching with username in email1 -->
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>firstName01_lastName01</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!--searching with username in email2 -->
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>firstName22_lastName22</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!--searching with username in email3 -->
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>firstName31_lastName31</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
</t:test_case>


<t:test_case testcaseid="search_contact3" type="sanity" >
    <t:objective>Searching contact with email (incomplete username\@domainname\domainname) </t:objective>
    
    <t:test>
         <t:request>
             <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>firstName01</query>
            </SearchRequest>        
         </t:request>
         <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:info/mail:wildcard" attr="str" match="firstname01.*"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>@testsearch.com</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']"/>             
        </t:response>
    </t:test>
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>testsearch.com</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']"/>             
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="search_contact4" type="sanity" >
    <t:objective>Searching contact with (complete\incomplete company name)  </t:objective>
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>company1</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>comp</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']"/>             
        </t:response>
    </t:test>
    
</t:test_case>


<t:test_case testcaseid="search_contact5" type="sanity" >
    <t:objective>Searching with different Phone numbers </t:objective>
    
    <!-- searching with mobile phone number  --> 
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>12412</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!-- searching with home phone number  --> 
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>12402</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!-- searching with business phone number  --> 
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>12391</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!-- searching with workFax number  --> 
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>12311</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!-- searching with workPhone2 number  --> 
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>12321</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!-- searching with callbackPhone number  --> 
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>12331</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!-- searching with carPhone number  --> 
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>12341</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!-- searching with homePhone2 number  --> 
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>12352</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!-- searching with homeFax number  --> 
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>12362</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!-- searching with otherPhone number  --> 
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>12372</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!-- searching with otherFax number  --> 
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>12382</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>            
        </t:response>
    </t:test>
    
    <!-- searching with pager number  --> 
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>12422</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>    
    
</t:test_case>    


<t:test_case testcaseid="search_contact6" type="sanity" >
    <t:objective>Searching with jobtitle</t:objective>

    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>jobTitle2</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>    
    
</t:test_case>


<t:test_case testcaseid="search_contact7" type="sanity" >
    <t:objective>Searching with Place (Street\City\State\PostalCode\Country)</t:objective>
    
    <!--searching with workStreet in email1 -->
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>workStreet1</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!--searching with workCity in email1 -->
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>workCity1</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!--searching with workState in email1 -->
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>workState2</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>            
        </t:response>
    </t:test>
    
    <!--searching with workPostalCode in email1 -->
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>99992</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!--searching with workCountry in email1 -->
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>workCountry2</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>

</t:test_case>    


<t:test_case testcaseid="search_contact8" type="sanity" >
    <t:objective>Searching contact with URL in contact information</t:objective>
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>workURL1</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
        
</t:test_case>    


<t:test_case testcaseid="search_contact9" type="sanity" >
    <t:objective>Searching with notes in contact information</t:objective>
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>notes1</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test> 
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>notes2</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>    
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>notes1 notes2</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>       
    
</t:test_case> 


<t:test_case testcaseid="search_contact10" type="sanity" >
    <t:objective>Searching contacts with Partial String (firstName\ common word present in contacts separated with space) </t:objective>
        
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>firstName4</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>          
        </t:response>
    </t:test> 
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>Name</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" /> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" />          
        </t:response>
    </t:test>
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>company5</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" />          
        </t:response>
    </t:test>
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>pvt</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" /> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" />          
        </t:response>
    </t:test>     
    
         

</t:test_case>


<t:test_case testcaseid="search_contact11" type="bhr">
    <t:objective>Searching using the query "contact:" with name (FirstName\Lastname\Middlename) </t:objective>
        
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>contact:firstName1</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>          
        </t:response>
    </t:test>
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>lastName2</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>            
        </t:response>
    </t:test>
        
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>middleName2</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>            
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="search_contact12" type="sanity" >
    <t:objective>Searching using the query "contact:" with email Id </t:objective>
    
    <!--searching with username in email1 -->
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>contact:firstName01_lastName01</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!--searching with username in email2 -->
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>contact:firstName22_lastName22</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <!--searching with username in email3 -->
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>contact:firstName31_lastName31</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
</t:test_case>


<t:test_case testcaseid="search_contact13" type="sanity" >
    <t:objective>Searching using the query "contact:" contact with email (incomplete username\@domainname\domainname) </t:objective>
    
    <t:test>
         <t:request>
             <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>contact:firstName01</query>
            </SearchRequest>        
         </t:request>
         <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" />
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>contact:@testsearch.com</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']"/>             
        </t:response>
    </t:test>
    
    <t:test>
        <t:request>
            <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>contact:testsearch.com</query>
            </SearchRequest>        
        </t:request>
        <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']"/>             
        </t:response>
    </t:test>

</t:test_case>

<t:test_case testcaseid="search_contact14" type="sanity" >
    <t:objective>Searching using the query "contact:" wildcards the result, i.e. contact:term = contact:term*</t:objective>
    
    <t:test>
         <t:request>
             <SearchRequest xmlns="urn:zimbraMail" types="contact">
                <query>contact:firstName31</query>
            </SearchRequest>        
         </t:request>
         <t:response>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id1}']" />
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id2}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id3}']" emptyset="1"/>
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id4}']" emptyset="1"/> 
            <t:select path="//mail:SearchResponse/mail:cn[@id='${contact.id5}']" emptyset="1"/>             
        </t:response>
    </t:test>
    

</t:test_case>

</t:tests>
