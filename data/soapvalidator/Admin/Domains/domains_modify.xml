<t:tests xmlns:t="urn:zimbraTestHarness">

<t:property name="test_account1.name" value="test.${TIME}.${COUNTER}@${defaultdomain.name}"/>
<t:property name="test_account1.password" value="test123"/>
<t:property name="domain.name1" value="${TIME}${COUNTER}"/>

<t:property name="galmode1" value="ldap"/>
<t:property name="galmode2" value="zimbra"/>
<t:property name="galmode3" value="both"/>
<t:property name="authmode1" value="ad"/>
<t:property name="galmode.invalid" value="INVALID"/>

<t:property name="domain.spchar" value="';~!"/>
<t:property name="spaces" value="                    "/>
<t:property name="domain.text" value="abcde"/>
<t:property name="starting.with.zero" value="0033"/>
<t:property name="domain.negative" value="-50"/>
<t:property name="domain.number" value="50"/>
<t:property name="invalid.number" value="0q00"/>

<t:property name="galresult" value="10"/>
<t:property name="gal.zero" value="0"/>
<t:property name="gal.decimal" value="22.22"/>

<t:property name="server.zimbraAdmin" value="${zimbraServer.name}"/>


<t:test_case testcaseid="Ping" type="always" >
    <t:objective>basic system check</t:objective>

    <t:test  id="ping" required="true">
        <t:request>
            <PingRequest xmlns="urn:zimbraAdmin"/>
        </t:request>
        <t:response>
            <t:select path="//admin:PingResponse"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="acct1_setup" type="always" >
    <t:objective>create test account</t:objective>

    <t:test  id="admin_login" required="true" depends="ping">
        <t:request>
            <AuthRequest xmlns="urn:zimbraAdmin">
                <name>${admin.user}</name>
                <password>${admin.password}</password>
            </AuthRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:AuthResponse/admin:authToken" set="authToken"/>
        </t:response>
    </t:test>
  
</t:test_case >


<t:test_case testcaseid="CreateDomainRequest1" type="always" >
    <t:objective>Create a Domain  </t:objective>
    <t:steps> 1. Create a Domain
    </t:steps>
    
    <t:test id="CreateDomainRequest1a">
        <t:request>
            <CreateDomainRequest xmlns="urn:zimbraAdmin">
                <name>${domain.name1}</name>
                <a n="zimbraGalMode">${galmode1}</a>
                <a n="zimbraAuthMech">${galmode1}</a>
                <a n="description">${domain.name1}</a>
                <a n="zimbraNotes">${domain.name1}</a>
                <a n="zimbraGalLdapURL">${domain.name1}</a>
                <a n="zimbraGalLdapSearchBase">${domain.name1}</a>
                <a n="zimbraGalLdapBindDn">${domain.name1}</a>
                <a n="zimbraGalLdapBindPassword">${domain.name1}</a>
                <a n="zimbraGalMaxResults">${galresult}</a>
                <a n="zimbraGalLdapFilter">${domain.name1}</a>
                <a n="zimbraAuthLdapURL">${domain.name1}</a>
                <a n="zimbraAuthLdapBindDn">${domain.name1}</a>
            </CreateDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:CreateDomainResponse/admin:domain" attr="id" set="domain.id1"/>            
        </t:response>
    </t:test>
    
</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest1" type="smoke"  areas="dev_sanity">
    <t:objective> Modify all attributes of a domain </t:objective>
    <t:test>
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMaxResults">${galresult}</a>
                <a n="description">${galmode1}</a>
                <a n="zimbraNotes">${galmode1}</a>
                <a n="zimbraGalLdapURL">${galmode1}</a>
                <a n="zimbraGalLdapSearchBase">${galmode1}</a>
                <a n="zimbraGalLdapBindDn"/>
                <a n="zimbraGalLdapBindPassword">${galmode1}</a>
                <a n="zimbraGalLdapFilter"/>
                <a n="zimbraAuthMech">${galmode1}</a>
                <a n="zimbraAuthLdapURL">${galmode1}</a>
                <a n="zimbraAuthLdapBindDn">${galmode1}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
            <t:select path="//admin:ModifyDomainResponse/admin:domain" attr="id"/>
            <t:select path="//admin:ModifyDomainResponse/admin:domain/admin:a[@n='zimbraGalMaxResults']" match="${galresult}"/>
            <t:select path="//admin:ModifyDomainResponse/admin:domain/admin:a[@n='zimbraAuthMech']" match="${galmode1}"/>            
            <t:select path="//admin:ModifyDomainResponse/admin:domain/admin:a[@n='zimbraNotes']" match="${galmode1}"/>
            <t:select path="//admin:ModifyDomainResponse/admin:domain/admin:a[@n='description']" match="${galmode1}"/>
            <t:select path="//admin:ModifyDomainResponse/admin:domain/admin:a[@n='zimbraGalMode']" match="${galmode1}"/>
            <t:select path="//admin:ModifyDomainResponse/admin:domain/admin:a[@n='zimbraGalLdapBindPassword']" match="${galmode1}"/>
            <t:select path="//admin:ModifyDomainResponse/admin:domain/admin:a[@n='zimbraGalLdapSearchBase']" match="${galmode1}"/>
            <t:select path="//admin:ModifyDomainResponse/admin:domain/admin:a[@n='zimbraAuthLdapURL']" match="${galmode1}"/>
            <t:select path="//admin:ModifyDomainResponse/admin:domain/admin:a[@n='zimbraAuthLdapBindDn']" match="${galmode1}"/>
        </t:response>
    </t:test>
    
</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest2" type="negative" >
    <t:objective> Modify domain with invalid values of id non-existing value/blank/text </t:objective>
    <t:test id="modifydomainrequest2a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>123</id>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="^account.NO_SUCH_DOMAIN"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest2b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id></id>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="^account.NO_SUCH_DOMAIN"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest2c">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>abc</id>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="^account.NO_SUCH_DOMAIN"/>
        </t:response>
    </t:test>
    
</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest3" type="feature" >
    <t:objective> Modify domain with zimbraGalMaxResults as 5k/0/0.5/spaces </t:objective>
    <t:test id="modifydomainrequest3a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMaxResults">5000</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>
    <t:test id="modifydomainrequest3b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMaxResults">${gal.zero}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>
    
    <t:test id="modifydomainrequest3c">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMaxResults">${gal.decimal}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="^account.INVALID_ATTR_VALUE"/>
        </t:response>
    </t:test>
<!--
    <t:test id="modifydomainrequest3d">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMaxResults">                      ${spaces}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="^account.INVALID_ATTR_VALUE"/>
        </t:response>
    </t:test>
-->
</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest4" type="functional" >
    <t:objective> Modify domain with zimbraGalMaxResults as invalid/spchar/text </t:objective>
    <t:test id="ModifyDomainRequest4a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMaxResults">${invalid.number}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="^account.INVALID_ATTR_VALUE"/>
        </t:response>
    </t:test>

    <t:test id="ModifyDomainRequest4b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMaxResults">${domain.spchar}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="^account.INVALID_ATTR_VALUE"/>
        </t:response>
    </t:test>

    <t:test id="ModifyDomainRequest4c">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMaxResults">${domain.text}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="^account.INVALID_ATTR_VALUE"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest5" bugids="2022" type="feature" >
    <t:objective> Modify domain with value of zimbraGalMaxResults starting with zero/negative number </t:objective>
    <t:test id="modifydomainrequest5a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMaxResults">${starting.with.zero}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path = "//zimbra:Code" match = "^account.INVALID_ATTR_VALUE$"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest5b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMaxResults">${domain.negative}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path = "//zimbra:Code" match = "^account.INVALID_ATTR_VALUE$"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest6" type="smoke" >
    <t:objective> Modify domain with ZimbraGalmode as valid (i.e ldap/zimbra/both)</t:objective>
    
    <t:test id="modifydomainrequest6a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMode">${galmode1}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>
    <t:test id="modifydomainrequest6b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMode">${galmode2}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>
    <t:test id="modifydomainrequest6c">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMode">${galmode3}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest7" bugids="1978" type="negative" >
    <t:objective> Modify domain with ZimbraGalmode as invalid (invalid/negative number)</t:objective>
    <t:test id="modifydomainrequest7a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMode">${galmode.invalid}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <!-- Getting account.INVALID_ATTR_VALUE for build:20050609164754-->
            <t:select path = "//zimbra:Code" match = "^account.INVALID_ATTR_VALUE$"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest7b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMode">${domain.negative}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <!-- Getting account.INVALID_ATTR_VALUE for build:20050609164754-->
            <t:select path = "//zimbra:Code" match = "^account.INVALID_ATTR_VALUE$"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest8" type="smoke" >
    <t:objective> Modify domain with zimbraAuthMech as valid </t:objective>
    <t:test id="modifydomainrequest8a">
        
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthMech">${galmode1}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain/admin:a[@n='zimbraAuthMech']" match="${galmode1}"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest8b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthMech">${galmode2}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain/admin:a[@n='zimbraAuthMech']" match="${galmode2}"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest8c">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthMech">${authmode1}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>            
            <t:select path="//admin:ModifyDomainResponse/admin:domain/admin:a[@n='zimbraAuthMech']" match="${authmode1}"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest9" bugids="45065" type="functional" >
    <t:objective> Modify domain with zimbraAuthMech as spchar/text/spaces </t:objective>

    <t:test id="modifydomainrequest9a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthMech">${domain.spchar}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <!-- Getting account.INVALID_ATTR_VALUE for build:20050609164754-->
            <t:select path = "//zimbra:Code" match = "^service.INVALID_REQUEST$"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest9b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthMech">${domain.text}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <!-- Getting account.INVALID_ATTR_VALUE for build:20050609164754-->
            <t:select path = "//zimbra:Code" match = "^service.INVALID_REQUEST$"/>
        </t:response>
    </t:test>
<!--
    <t:test id="modifydomainrequest9c">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthMech">${spaces}</a>
            </ModifyDomainRequest>
         </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

-->

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest10" type="smoke" >
    <t:objective> Modify domain with zimbraDomainName as valid </t:objective>
    <t:test id="modifydomainrequest10a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraDomainName">${domain.name1}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//soap:Text" match=".*zimbra[dD]omain[nN]ame is immutable.*"/>
            <t:select path="//zimbra:Code" match="^service.INVALID_REQUEST$"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest11" type="functional" >
    <t:objective> Modify domain with zimbraDomainName as invalid spchar/text </t:objective>
    <t:test id="modifydomainrequest11a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraDomainName">${domain.spchar}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <!-- Updated the expected response to match service.INVALID_REQUEST for build:20050609164754-->
            <t:select path = "//zimbra:Code" match = "^service.INVALID_REQUEST$"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest11b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraDomainName">${domain.text}</a>
            </ModifyDomainRequest>
         </t:request>
        <t:response>
            <!-- Updated the expected response to match service.INVALID_REQUEST for build:20050609164754-->
            <t:select path = "//zimbra:Code" match = "^service.INVALID_REQUEST$"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest12" type="smoke" >
    <t:objective> Modify domain with some valid description   </t:objective>
    <t:test id="modifydomainrequest12a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="description">${domain.name1}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest13" type="functional" >
    <t:objective> Modify domain with description spchar/text  </t:objective>
    <t:test id="modifydomainrequest13a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="description">${domain.spchar}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest13b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="description">${domain.text}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest14" type="smoke" >
    <t:objective> Modify domain with some valid zimbraNotes   </t:objective>
    <t:test id="modifydomainrequest14a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
               <a n="zimbraNotes">${domain.name1}</a>
        </ModifyDomainRequest>
    </t:request>
    <t:response>
        <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
    </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest15" type="functional" >
    <t:objective> Modify domain with zimbraNotes as spchar/numbers  </t:objective>
    <t:test id="modifydomainrequest15a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraNotes">${domain.spchar}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>
    <t:test id="modifydomainrequest15b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraNotes">${domain.number}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest16" type="smoke" >
    <t:objective> Modify domain with zimbraGalLdapURL valid  </t:objective>
    <t:test >
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapURL">${domain.name1}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest17" bugids="1978" type="functional" >
    <t:objective> Modify domain with zimbraGalLdapURL as spchar/blank/number  </t:objective>
    <t:test id="modifydomainrequest17a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapURL">${domain.spchar}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest17b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapURL"></a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest17c">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapURL">${domain.number}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest18" type="smoke" >
    <t:objective> Modify domain with valid zimbraGalLdapSearchBase  </t:objective>
    <t:test id="modifydomainrequest18a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapSearchBase">${domain.name1}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest19" type="functional" >
    <t:objective> Modify domain with zimbraGalLdapSearchBase as spchar/blank/number  </t:objective>
    <t:test id="modifydomainrequest19a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapSearchBase">${domain.spchar}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest19b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapSearchBase"></a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest19b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapSearchBase">${domain.number}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest20" type="smoke" >
    <t:objective> Modify domain with valid zimbraGalLdapBindDn  </t:objective>
    <t:test id="modifydomainrequest20a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapBindDn">${domain.name1}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest21" type="functional" >
    <t:objective> Modify domain with zimbraGalLdapBindDn as spchar/blank/number  </t:objective>
    <t:test id="modifydomainrequest21a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapBindDn">${domain.spchar}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest21b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapBindDn"></a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest21c">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapBindDn">${domain.number}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest22" type="smoke" >
    <t:objective> Modify domain with valid zimbraGalLdapBindPassword   </t:objective>
    <t:test id="modifydomainrequest22a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapBindPassword">${domain.name1}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest23" type="functional" >
    <t:objective> Modify domain with zimbraGalLdapBindPassword as spchar/blank/number  </t:objective>
    <t:test id="modifydomainrequest23a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapBindPassword">${domain.spchar}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest23b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapBindPassword"></a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest23c">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapBindPassword">${domain.number}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest24" type="smoke" >
    <t:objective> Modify domain with valid zimbraGalLdapFilter  </t:objective>
    <t:test id="modifydomainrequest24a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapFilter">${domain.name1}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest25" type="functional" >
    <t:objective> Modify domain with zimbraGalLdapFilter as spchar/blank/number/negative number  </t:objective>
    <t:test id="modifydomainrequest25a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapFilter">${domain.spchar}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest25b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapFilter"></a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest25c">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapFilter">${domain.number}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest25d">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalLdapFilter">${domain.negative}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest26" type="smoke" >
    <t:objective> Modify domain with valid zimbraAuthLdapURL  </t:objective>
    <t:test id="modifydomainrequest26a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthLdapURL">${domain.name1}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest27" type="functional" >
    <t:objective> Modify domain with zimbraAuthLdapURL as spchar/blank/number/negative number  </t:objective>
    <t:test id="modifydomainrequest27a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthLdapURL">${domain.spchar}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest27b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthLdapURL"></a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>
    
    <t:test id="modifydomainrequest27c">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthLdapURL">${domain.number}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest27d">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthLdapURL">${domain.negative}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest28" type="smoke" >
    <t:objective> Modify domain with zimbraAuthLdapBindDn with valid value </t:objective>
    <t:test id="modifydomainrequest28a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthLdapBindDn">${domain.name1}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest29" type="functional" >
    <t:objective> Modify domain with zimbraAuthLdapBindDn as spchar/blank/number/negative number  </t:objective>
    <t:test id="modifydomainrequest29a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthLdapBindDn">${domain.spchar}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest29b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthLdapBindDn"></a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>
    
    <t:test id="modifydomainrequest29c">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthLdapBindDn">${domain.number}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest29d">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraAuthLdapBindDn">${domain.negative}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="ModifyDomainRequest30" type="negative" >
    <t:objective> Modify domain name spchar/number/number negative/blank </t:objective>
    <t:test id="modifydomainrequest30a">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <name>${domain.spchar}</name>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest30b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <name>${domain.number}</name>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest30c">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <name>${domain.negative}</name>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

    <t:test id="modifydomainrequest30d">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <name></name>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
        </t:response>
    </t:test>

</t:test_case>

    
<t:test_case testcaseid="ModifyDomainRequest31" type="negative" >
    <t:objective> Modify deleted domain </t:objective>
    <t:test id="modifydomainrequest31a">
        <t:request>
            <DeleteDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
            </DeleteDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:DeleteDomainResponse"/>
        </t:response>
    </t:test>
    
    <t:test id="modifydomainrequest31b">
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id1}</id>
                <a n="zimbraGalMaxResults">5000</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//zimbra:Code" match="account.NO_SUCH_DOMAIN"/>
        </t:response>
    </t:test>

</t:test_case>    


<t:test_case testcaseid="ModifyDomainRequest32" type="negative" bugids="1971">
    <t:objective> Modify domain with zimbraAuthMech as text/spaces/blank/special charater </t:objective>

    <t:test>
        <t:request>
            <CreateDomainRequest xmlns="urn:zimbraAdmin">
                <name>testdomain${TIME}${COUNTER}</name>               
                <a n="description">${domain.name1}</a>
                <a n="zimbraNotes">${domain.name1}</a>                
            </CreateDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:CreateDomainResponse/admin:domain" attr="id" set="domain.id2"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id2}</id>
                <a n="zimbraGalLdapAttrMap">${domain.text}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
            <!--t:select path = "//soap:Reason/soap:Text" match = ".*zimbragalldapattrmap is immutable.*"/>            
            <t:select path = "//zimbra:Code" match = "^service.INVALID_REQUEST$"/-->            
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id2}</id>
                <a n="zimbraGalLdapAttrMap"></a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
            <!--t:select path = "//soap:Reason/soap:Text" match = ".*zimbragalldapattrmap is immutable.*"/>
            <t:select path = "//zimbra:Code" match = "^service.INVALID_REQUEST$"/-->
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id2}</id>
                <a n="zimbraGalLdapAttrMap">${spaces}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
            <!--t:select path = "//soap:Reason/soap:Text" match = ".*zimbragalldapattrmap is immutable.*"/>
            <t:select path = "//zimbra:Code" match = "^service.INVALID_REQUEST$"/-->
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id2}</id>
                <a n="zimbraGalLdapAttrMap">${domain.spchar}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//admin:ModifyDomainResponse/admin:domain"/>
            <!--t:select path = "//soap:Reason/soap:Text" match = ".*zimbragalldapattrmap is immutable.*"/>
            <t:select path = "//zimbra:Code" match = "^service.INVALID_REQUEST$"/-->
        </t:response>
    </t:test>

</t:test_case>

<t:test_case testcaseid="ModifyDomainRequest33" type="negative" >
    <t:objective> Modify objectclass of domain (some text/Spchar) </t:objective>

    <t:test>
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id2}</id>
                <a n="objectClass">${domain.text}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//soap:Text" match=".*invalid attr value.*"/>
            <t:select path="//zimbra:Code" match="^account.INVALID_ATTR_VALUE$"/>
        </t:response>
    </t:test>
    
    <t:test>
        <t:request>
            <ModifyDomainRequest xmlns="urn:zimbraAdmin">
                <id>${domain.id2}</id>
                <a n="objectClass">${domain.spchar}</a>
            </ModifyDomainRequest>
        </t:request>
        <t:response>
            <t:select path="//soap:Text" match=".*invalid attr value.*"/>
            <t:select path="//zimbra:Code" match="^account.INVALID_ATTR_VALUE$"/>
        </t:response>
    </t:test>

</t:test_case>    

</t:tests>
