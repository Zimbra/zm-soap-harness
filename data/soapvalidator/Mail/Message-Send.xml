<t:tests xmlns:t="urn:zimbraTestHarness">

<t:property name="test_account1.name" value="test${TIME}.${COUNTER}@${defaultdomain.name}"/>
<t:property name="test_account1.password" value="${defaultpassword.value}"/>

<t:property name="test_account2.name" value="test${TIME}.${COUNTER}@${defaultdomain.name}"/>
<t:property name="test_account2.password" value="${defaultpassword.value}"/>

<t:property name="test_account3.name" value="test${TIME}.${COUNTER}@${defaultdomain.name}"/>
<t:property name="test_account3.password" value="${defaultpassword.value}"/>

<t:property name="compose.nonexistingaddr" value="test112_account112.name@${defaultdomain.name}"/>
<t:property name="message.space" value=" @${defaultdomain.name}"/>
<t:property name="message.specialchar" value="a*b/c@${defaultdomain.name}"/>
<t:property name="message.digits" value="1234@${defaultdomain.name}"/>
<t:property name="message.startdigit" value="2test_account.name@${defaultdomain.name}"/>

<t:property name="message.nonexistingdomain" value="test_account1.name@zyxwv.aaa"/>
<t:property name="message.spaceindomain" value="test_account1@ "/>
<t:property name="message.specialcharindomain" value="test_account1@a*b/c.in"/>
<t:property name="message.digitsindomain" value="test_account1@1234"/>
<t:property name="message.startdigitindomain" value="test_account1@1234example.persistent.co.in"/>

<t:property name="message.spacesinsubject" value="   "/>
<t:property name="message.digitsinsubject" value="123456"/>
<t:property name="message.specialcharinsubject" value="!@#"/>


<t:property name="compose.subject" value="Subject of the message is testing"/>
<t:property name="compose.content" value="Content in the message is contents..."/>

<t:property name="mail.spchar" value="//\\'^%"/>
<t:property name="mail.blank" value=""/>
<t:property name="mail.sometext" value="some text"/>
<t:property name="mail.number" value="123"/>
<t:property name="mail.negative" value="-2"/>
<t:property name="mail.decimal" value="2.09"/>

<t:property name="server.zimbraAdmin" value="${zimbraServer.name}"/>
<t:property name="test_acct.server" value="NOT_DEFINED"/>

<t:test_case testcaseid="ping" type="always" >
<t:objective>basic system check</t:objective>
<t:test id="ping" required="true">
 <t:request>
   <PingRequest xmlns="urn:zimbraAdmin"/>
 </t:request>
  <t:response>
	<t:select path="//admin:PingResponse"/>
 </t:response>
</t:test>

</t:test_case>




<t:test_case testcaseid="acctSetup1_send_message" type="always" >
 <t:objective>create test account</t:objective>

<t:test id="admin_login" required="true" >
 <t:request>
  <AuthRequest xmlns="urn:zimbraAdmin">
    <name>${admin.user}</name>
    <password>${admin.password}</password>
  </AuthRequest>
 </t:request>
 <t:response>
    <t:select path="//admin:AuthResponse/admin:authToken" set="authToken"/>
 </t:response>
</t:test>

<t:test required="true" >
 <t:request>
  <CreateAccountRequest xmlns="urn:zimbraAdmin">
    <name>${test_account1.name}</name>
    <password>${test_account1.password}</password>
    <!--
    <a n="zimbraMailHost">${LOCALHOST}</a> 
    <a n="zimbraMailStatus">enabled</a>
    <a n="zimbraMailDeliveryAddress">${test_account1.name}</a> 
    <a n="zimbraPasswordMinAge">7</a>
    Commenting out the optional attributes and sending the request with minimal requirement
    -->
  </CreateAccountRequest>
 </t:request>
 <t:response>
	<t:select path="//admin:CreateAccountResponse/admin:account" attr="id"  set="test_account1.id"/>
       <t:select path='//admin:CreateAccountResponse/admin:account/admin:a[@n="zimbraMailHost"]' set="test_acct.server"/>
 </t:response>
</t:test>

<t:test required="true" >
 <t:request>
  <CreateAccountRequest xmlns="urn:zimbraAdmin">
    <name>${test_account2.name}</name>
    <password>${test_account2.password}</password>
  </CreateAccountRequest>
 </t:request>
 <t:response>
	<t:select path="//admin:CreateAccountResponse/admin:account" attr="id"  set="test_account2.id"/>
 </t:response>
</t:test>

<t:test required="true" >
 <t:request>
  <CreateAccountRequest xmlns="urn:zimbraAdmin">
    <name>${test_account3.name}</name>
    <password>${test_account3.password}</password>
  </CreateAccountRequest>
 </t:request>
 <t:response>
	<t:select path="//admin:CreateAccountResponse/admin:account" attr="id"  set="test_account3.id"/>
 </t:response>
</t:test>

</t:test_case>

<t:property name="server.zimbraAccount" value="${test_acct.server}"/>

<t:test_case testcaseid="acctLogin1_send_message" type="always" >
 <t:objective>login as the test account</t:objective>

<t:test required="true">
 <t:request>
  <AuthRequest xmlns="urn:zimbraAccount">
    <account by="name">${test_account1.name}</account>
    <password>${test_account1.password}</password>
    <!--<prefs/>-->
  </AuthRequest>
 </t:request>
 <t:response>
	<t:select path="//acct:AuthResponse/acct:lifetime"  match="^\d+$"/>
	<t:select path="//acct:AuthResponse/acct:authToken" set="authToken"/>

 </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest1" type="smoke">
 <t:objective> send a mail with valid address in "To" field </t:objective>

<t:test >
  <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
      <m>
	<e t="t" a='${test_account1.name}'/>
	<su>${compose.subject}</su>
	<mp ct="text/plain">
	    <content> ${compose.content} </content>
	</mp>
     </m>
    </SendMsgRequest>
  </t:request>
  <t:response>
         <t:select path="//mail:SendMsgResponse"/>
   </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest2" type="smoke">
 <t:objective> send a mail with valid address in "To" and "Cc" field </t:objective>


<t:test >
 <t:request>
   <SendMsgRequest xmlns="urn:zimbraMail">
     <m>
       <e t="t" a='${test_account1.name}'/>
       <e t="c" a='${test_account2.name}'/>
       <su>${compose.subject}</su>
       <mp ct="text/plain">
	    <content> ${compose.content} </content>
       </mp>
    </m>
  </SendMsgRequest>
 </t:request>
 <t:response>
	<t:select path="//mail:SendMsgResponse"/>
 </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest3" type="bhr">
 <t:objective> send a mail with valid address in "To","Cc" and "Bcc" field </t:objective>

<t:test >
 <t:request>
   <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
	  <e t="t" a='${test_account1.name}'/>
	  <e t="c" a='${test_account2.name}'/>
	  <e t="b" a='${test_account3.name}'/>
	  <su>${compose.subject}</su>
	  <mp ct="text/plain">
	      <content> ${compose.content} </content>
	  </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
	<t:select path="//mail:SendMsgResponse"/>
 </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest4" bugids="2550" type="sanity" >
 <t:objective> send a mail with a non-existing email Id in "To" field and existing email id in "Cc","Bcc" fields</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
	  <e t="t" a='${compose.nonexistingaddr}'/>
	  <e t="c" a='${test_account2.name}'/>
	  <e t="b" a='${test_account3.name}'/>	
	  <su>${compose.subject}</su>
	  <mp ct="text/plain">
	      <content> ${compose.content} </content>
	  </mp>
	</m>
    </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest5"  bugids="2550" type="functional" >
 <t:objective>send a mail with a non-existing email Id in "Cc" field and existing email id in "To","Bcc" fields.</t:objective>

<t:test >
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
	  <e t="t" a='${test_account1.name}'/>
	  <e t="c" a='${compose.nonexistingaddr}'/>
         <e t="b" a='${test_account3.name}'/>
         <su>${compose.subject}</su>
	  <mp ct="text/plain">
	      <content> ${compose.content} </content>
         </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest6"  bugids="2550" type="functional" >
 <t:objective> send a mail with non-existing email Id in "To","Cc" field and an existing email id in "Bcc" field</t:objective>

		
<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
	  <e t="t" a='${compose.nonexistingaddr}'/>
	  <e t="c" a='${compose.nonexistingaddr}'/>
	  <e t="b" a='${test_account3.name}'/>
	  <su>${compose.subject}</su>
	  <mp ct="text/plain">
	      <content>  ${compose.content} </content>
	  </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest7"  bugids="2550" type="functional" >
 <t:objective>send a mail with a non-existing email Id in "Bcc" field and an existing email id in "To","Cc" field.</t:objective>
		

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
	  <e t="t" a='${test_account1.name}'/>
         <e t="c" a='${test_account2.name}'/>
         <e t="b" a='${compose.nonexistingaddr}'/>
         <su>${compose.subject}</su>
          <mp ct="text/plain">
         	 <content> ${compose.content} </content>
          </mp>
	</m>
    </SendMsgRequest>
 </t:request>
   <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest8"  bugids="2550" type="functional" >
 <t:objective> send a mail with non-existing email id in "To","Bcc" fields and an  existing email Id in "Cc" an field.</t:objective>
		

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
	  <e t="t" a='${compose.nonexistingaddr}'/>
         <e t="c" a='${test_account2.name}'/>
         <e t="b" a='${compose.nonexistingaddr}'/>
         <su>${compose.subject}</su>
         <mp ct="text/plain">
             <content> ${compose.content} </content>
         </mp>
	</m>
    </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest9"  bugids="2550" type="functional" >
 <t:objective> send a mail with non-existing email id in "Cc","Bcc" fields and existing email Id  in "To" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
	  <e t="t" a='${test_account1.name}'/>
	  <e t="c" a='${compose.nonexistingaddr}'/>
	  <e t="b" a='${compose.nonexistingaddr}'/>
	  <su>${compose.subject}</su>
	  <mp ct="text/plain">
	      <content> ${compose.content} </content>
	  </mp>
	</m>
    </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest10"  bugids="2550" type="functional" >
 <t:objective> send a mail with non-existing email Id in "To","Cc" and "Bcc" fields.</t:objective> 

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
	  <e t="t" a='${compose.nonexistingaddr}'/>
	  <e t="c" a='${compose.nonexistingaddr}'/>
	  <e t="b" a='${compose.nonexistingaddr}'/>
	  <su>${compose.subject}</su>
	  <mp ct="text/plain">
	      <content> ${compose.content} </content>
	  </mp>
	</m>
    </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>

<t:test_case testcaseid="SendMessageRequest11" bugids="1827" type="functional" >
 <t:objective> send a mail with spaces in name and valid domain name in "To" field.</t:objective> 

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
	   <e t="t" a='${message.space}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
    </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest12" bugids="1827" type="functional" >
 <t:objective> send a mail with spaces in name and valid domain name in "Cc" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
           <e t="c" a='${message.space}'/>
           <su>${compose.subject}</su>
	    <mp ct="text/plain">
	        <content> ${compose.content} </content>
	    </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest13" bugids="1827" type="functional" >
 <t:objective> send a mail with spaces in name and valid domain name in "Bcc" field. </t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
	  <e t="b" a='${message.space}'/>
     	  <su>${compose.subject}</su>
	  <mp ct="text/plain">
	      <content> ${compose.content} </content>
          </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest14" bugids="1827" type="functional" >
 <t:objective> send a mail with special characters in name and valid domain name in "To" field. </t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
	  <e t="t" a='${message.specialchar}'/>
	  <su>${compose.subject}</su>
	  <mp ct="text/plain">
	      <content> ${compose.content} </content>
	  </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest15" bugids="1827" type="functional" >
 <t:objective> send a mail with special characters in name and valid domain name in "Cc" field. </t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
	  <e t="c" a='${message.specialchar}'/>
   	  <su>${compose.subject}</su>
	  <mp ct="text/plain">
	      <content> ${compose.content} </content>
	  </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest16" bugids="1827" type="functional" >
 <t:objective> send a mail with special characters in name and valid domain name in "Bcc" field. </t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="b" a='${message.specialchar}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest17" bugids="1827" type="functional" >
 <t:objective> send a mail with digits only in name and valid domain name in "To" field.</t:objective>

<t:test >
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="t" a='${message.digits}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
    </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest18" bugids="1827" type="functional" >
 <t:objective> send a mail with digits only in name and valid domain name in "Cc" field.</t:objective>

<t:test >
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
	  <e t="c" a='${message.digits}'/>
	  <su>${compose.subject}</su>
	  <mp ct="text/plain">
	      <content> ${compose.content} </content>
	  </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<!--<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>  -->   <!-- Only need to match bounce message -->
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest19" bugids="1827" type="functional" >
 <t:objective> send a mail with digits only in name and valid domain name in "Bcc" field.</t:objective>

<t:test >
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="b" a='${message.digits}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<!-- <t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/> --> <!-- Only need to match bounce message -->
		</t:response>
	</t:test>

</t:test_case>

<t:test_case testcaseid="SendMessageRequest20" type="functional" >
 <t:objective> send a mail with alpha numeric characters in name and valid domain name in "To" field. </t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="t" a='${test_account2.name}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<!-- <t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/> --> <!-- Only need to match bounce message -->
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest21" type="functional" >
 <t:objective> send a mail with alpha numeric characters in name and valid domain name in "Cc" field. </t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	<m>
	  <e t="c" a='${test_account2.name}'/>
	  <su>${compose.subject}</su>
	  <mp ct="text/plain">
	      <content> ${compose.content} </content>
	  </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<!-- <t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/> --> <!-- Only need to match bounce message -->
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest22" type="functional" >
 <t:objective> send a mail with alpha numeric characters in name and valid domain name in "Bcc" field. </t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="b" a='${test_account2.name}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
    </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<!-- <t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/> --> <!-- Only need to match bounce message -->
		</t:response>
	</t:test>
 
</t:test_case>


<t:test_case testcaseid="SendMessageRequest23" bugids="1827" type="functional" >
 <t:objective> send a mail with digits in the starting of name followed by alphabets and valid domain name in "To" field. </t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="t" a='${message.startdigit}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	  </mp>
	</m>
    </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<!-- <t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/> --> <!-- Only need to match bounce message -->
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest24" bugids="1827" type="functional" >
 <t:objective> send a mail with digits in the starting of name followed by alphabets and valid domain name in "Cc" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="c" a='${message.startdigit}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<!-- <t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/> --> <!-- Only need to match bounce message -->
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest25" bugids="1827" type="functional" >
 <t:objective> send a mail with digits in the starting of name followed by alphabets and valid domain name in "Bcc" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="b" a='${message.startdigit}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<!-- <t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/> --> <!-- Only need to match bounce message -->
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest26" type="functional" >
 <t:objective> send a mail with same email address in "To","Cc","Bcc" fields.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="t" a='${test_account1.name}'/>
	   <e t="c" a='${test_account1.name}'/>
	   <e t="b" a='${test_account1.name}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
	<t:select path="//mail:SendMsgResponse"/>
 </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest27" bugids="2294" type="functional" >
 <t:objective> send a mail with valid name in email id but non-existing domain name in "To" field. </t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="t" a='${message.nonexistingdomain}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest28" bugids="2294" type="functional" >
 <t:objective> send a mail with valid name in email id but non-existing domain name in "Cc" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="c" a='${message.nonexistingdomain}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest29" bugids="2294" type="functional" >
 <t:objective> send a mail with valid name in email id but non-existing domain name in "Bcc" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="b" a='${message.nonexistingdomain}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
	</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest30" bugids="2294" type="functional" >
 <t:objective> send a mail with spaces in domain name of address in "To" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="t" a='${message.spaceindomain}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
    </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path= "//zimbra:Code" match="mail.SEND_ABORTED_ADDRESS_FAILURE"/>
 </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest31" bugids="2294" type="functional" >
 <t:objective>send a mail with spaces in domain name of address in "Cc" field.</t:objective>

<t:test>
 <t:request>
      <SendMsgRequest xmlns="urn:zimbraMail">
	   <m>
	     <e t="c" a='${message.spaceindomain}'/>
            <su>${compose.subject}</su>
	     <mp ct="text/plain">
	         <content> ${compose.content} </content>
	     </mp>
	   </m>
      </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path= "//zimbra:Code" match="mail.SEND_ABORTED_ADDRESS_FAILURE"/>
 </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest32" bugids="2294" type="functional" >
 <t:objective>send a mail with spaces in domain name of address in "Bcc" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="b" a='${message.spaceindomain}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	 </m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path= "//zimbra:Code" match="mail.SEND_ABORTED_ADDRESS_FAILURE"/>
 </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest33" bugids="2294" type="functional" >
 <t:objective> send a mail with special characters in domain name of address in "To" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="t" a='${message.specialcharindomain}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path= "//zimbra:Code" match="mail.SEND_ABORTED_ADDRESS_FAILURE"/>
 </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest34" bugids="2294" type="functional" >
 <t:objective> send a mail with special characters in domain name of address in "Cc" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="c" a='${message.specialcharindomain}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path= "//zimbra:Code" match="mail.SEND_ABORTED_ADDRESS_FAILURE"/>
 </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest35" bugids="2294" type="functional" >
 <t:objective>send a mail with special characters in domain name of address in "Bcc" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="b" a='${message.specialcharindomain}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path= "//zimbra:Code" match="mail.SEND_ABORTED_ADDRESS_FAILURE"/>
 </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest36"  bugids="2294" type="functional" >
 <t:objective>send a mail with only digits in domain name of address in "To" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="t" a='${message.digitsindomain}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
<t:response>
       <t:select path= "//zimbra:Code" match="mail.SEND_ABORTED_ADDRESS_FAILURE"/>
 </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest37" bugids="2294" type="functional" >
 <t:objective>send a mail with only digits in domain name of address in "Cc" field. </t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="c" a='${message.digitsindomain}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
   </t:request>
 <t:response>
       <t:select path= "//zimbra:Code" match="mail.SEND_ABORTED_ADDRESS_FAILURE"/>
 </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest38" bugids="2294" type="functional" >
 <t:objective>send a mail with only digits in domain name of address in "Bcc" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="b" a='${message.digitsindomain}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path= "//zimbra:Code" match="mail.SEND_ABORTED_ADDRESS_FAILURE"/>
 </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest39" bugids="2294" type="functional" >
 <t:objective> send a mail with domain name starting with digits of address in "To" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="t" a='${message.startdigitindomain}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest40" bugids="2294" type="functional" >
 <t:objective> send a mail with domain name starting with digits of address in "Cc" field.</t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="c" a='${message.startdigitindomain}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest41" bugids="2294" type="functional" >
 <t:objective>send a mail with domain name starting with digits of address in "Bcc" field.</t:objective>

<t:test >
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="b" a='${message.startdigitindomain}'/>
	   <su>${compose.subject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
       <t:select path="//mail:SendMsgResponse/mail:m"/>
 </t:response>
</t:test>

<t:test >
        <t:request>
			<SearchRequest xmlns="urn:zimbraMail">
				<query>in:inbox</query>
			</SearchRequest>
		</t:request>
		<t:response>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="Undelivered Mail Returned to Sender"/>
			<t:select path="//mail:SearchResponse/mail:c" attr="su" match="${compose.subject}"/>
		</t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest42" type="functional" >
 <t:objective> send a mail with only spaces in Subject of message </t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="t" a='${test_account2.name}'/>
	   <su>${message.spacesinsubject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
	<t:select path="//mail:SendMsgResponse"/>
 </t:response>
</t:test>


</t:test_case>


<t:test_case testcaseid="SendMessageRequest43" type="functional" >
 <t:objective> send a mail with only special characters in Subject of message </t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="t" a='${test_account2.name}'/>
	   <su>${message.specialcharinsubject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
	<t:select path="//mail:SendMsgResponse"/>
 </t:response>
</t:test>


</t:test_case>


<t:test_case testcaseid="SendMessageRequest44" type="functional" >
 <t:objective> send a mail with only digits in Subject of message </t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <e t="t" a='${test_account2.name}'/>
	   <su>${message.digitsinsubject}</su>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
   </SendMsgRequest>
 </t:request>
 <t:response>
	<t:select path="//mail:SendMsgResponse"/>
 </t:response>
</t:test>


</t:test_case>


<t:test_case testcaseid="SendMessageRequest45" bugids="1828" type="functional" >
 <t:objective> send a mail with no address in To,Cc,Bcc field. </t:objective>

<t:test>
 <t:request>
    <SendMsgRequest xmlns="urn:zimbraMail">
	 <m>
	   <mp ct="text/plain">
	       <content> ${compose.content} </content>
	   </mp>
	</m>
    </SendMsgRequest>
 </t:request>
 <t:response>
	<t:select path= "//zimbra:Code" match="mail.SEND_FAILURE"/>
 </t:response>
</t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest46" type="functional" >
    <t:objective> SendMsgRequest with origid as invalid (sometext/spchar/number/negative/decimal/blank) </t:objective>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m origid="${mail.sometext}" >
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m origid="${mail.spchar}" >
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m origid="${mail.number}" a='${test_account1.name}' >
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="mail.SEND_FAILURE"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m origid="${mail.negative}" a='${test_account1.name}' >
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
           <t:select path= "//zimbra:Code" match="mail.SEND_FAILURE"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m origid="${mail.decimal}" >
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m origid="${mail.blank}" >
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest47" type="deprecated" >
    <t:objective> SendMsgRequest with attribute 'rt' as valid "r|w" </t:objective>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m rt="r" t="t" a='${test_account1.name}'>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m rt="w" t="t" a='${test_account1.name}' >
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest48" type="deprecated" >
    <t:objective> SendMsgRequest with attribute 'rt' as invalid (sometext/spchar/number/negative/decimal/blank) </t:objective>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m rt="${mail.sometext}" t="t" a='${test_account1.name}' >
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m rt="${mail.spchar}" t="t" a='${test_account1.name}' >
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m rt="${mail.number}" t="t" a='${test_account1.name}'>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m rt="${mail.negative}" t="t" a='${test_account1.name}' >
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m rt="${mail.decimal}" t="t" a='${test_account1.name}' >
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m rt="${mail.blank}" t="t" a='${test_account1.name}'>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest49" type="functional" >
    <t:objective> SendMsgRequest with different value of personal name (sometext/spchar/number/negative/decimal/blank) </t:objective>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}" p="${mail.sometext}"/>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}" p="${mail.spchar}"/>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}" p="${mail.number}"/>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}" p="${mail.negative}"/>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}" p="${mail.decimal}"/>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}" p="${mail.blank}"/>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest50" type="sanity" >
    <t:objective> SendMsgRequest with "add" option as "1"  </t:objective>
    <t:steps> 1. SendMsgRequest with add option as "1"
              2. GetContactsRequest to verify contact get added
    </t:steps>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}" p="${test_account1.name}" add="1"/>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <GetContactsRequest xmlns="urn:zimbraMail">
                <a n="email"/>
            </GetContactsRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:GetContactsResponse/mail:cn" attr="id" set="contact51.id"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <ContactActionRequest xmlns="urn:zimbraMail">
                <action id="${contact51.id}" op="delete"/>
            </ContactActionRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:ContactActionResponse/mail:action" attr="id" match="${contact51.id}"/>
        </t:response>
    </t:test>                                                                   

</t:test_case>


<t:test_case testcaseid="SendMessageRequest51" type="sanity" >
    <t:objective> SendMsgRequest with "add" option as "0"  </t:objective>
    <t:steps> 1. SendMsgRequest with add option as "0"
              2. GetContactsRequest to verify contact does not get added
              3. Delete that contact
    </t:steps>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}" p="${test_account1.name}" add="0"/>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <GetContactsRequest xmlns="urn:zimbraMail">
                <a n="email"/>
            </GetContactsRequest>
        </t:request>
        <t:response>
       <!--      <t:select path="//mail:GetContactsResponse/mail:cn" emptyset="1"/> -->
            <t:select path="//mail:GetContactsResponse/mail:cn[@id='${contact51.id}']" emptyset="1"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest52" type="deprecated" >
    <t:objective> SendMsgRequest with "add" option as invalid (sometext/spchar/number/negative/decimal/blank)  </t:objective>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}" add="${mail.sometext}"/>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}" add="${mail.spchar}"/>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}" add="${mail.number}"/>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}" add="${mail.negative}"/>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}" add="${mail.decimal}"/>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}" add="${mail.blank}"/>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest53" type="functional" >
    <t:objective> SendMsgRequest with "irt" attribute as invalid (sometext/spchar/number/negative/decimal/blank)  </t:objective>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <irt>${mail.sometext}</irt>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <irt>${mail.spchar}</irt>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <irt>${mail.number}</irt>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <irt>${mail.negative}</irt>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <irt>${mail.decimal}</irt>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <irt>${mail.blank}</irt>
                    <mp ct="text/plain">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest54" type="functional" >
    <t:objective> SendMsgRequest with content type as invalid (sometext/spchar/number/negative/decimal/blank)  </t:objective>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <mp ct="${mail.sometext}">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <mp ct="${mail.number}">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <mp ct="${mail.negative}">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <mp ct="${mail.decimal}">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <mp ct="${mail.blank}">
                        <content> ${compose.content} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest55" type="functional" >
    <t:objective> SendMsgRequest with "aid" as invalid (sometext/spchar/number/negative/decimal/blank)  </t:objective>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <mp ct="${mail.sometext}">
                        <content> ${compose.content} </content>
                    </mp>
                    <attach aid="${mail.sometext}"/>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <mp ct="${mail.sometext}">
                        <content> ${compose.content} </content>
                    </mp>
                    <attach aid="${mail.spchar}"/>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <mp ct="${mail.sometext}">
                        <content> ${compose.content} </content>
                    </mp>
                    <attach aid="${mail.number}"/>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <mp ct="${mail.sometext}">
                        <content> ${compose.content} </content>
                    </mp>
                    <attach aid="${mail.negative}"/>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <mp ct="${mail.sometext}">
                        <content> ${compose.content} </content>
                    </mp>
                    <attach aid="${mail.decimal}"/>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
                    <mp ct="${mail.sometext}">
                        <content> ${compose.content} </content>
                    </mp>
                    <attach aid="${mail.blank}"/>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path= "//zimbra:Code" match="service.INVALID_REQUEST"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest56" type="sanity">
    <t:objective> SendMsgRequest with attribute suid  </t:objective>

<t:property name="mail.subject1" value="message with suid"/>
<t:property name="mail.content1" value="test message "/>

    <t:test>
        <t:request>
            <SendMsgRequest suid="${TIME}" xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
					<su>${mail.subject1}</su>
                    <mp ct="text/plain">
                        <content> ${mail.content1} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

</t:test_case>


<t:test_case testcaseid="SendMessageRequest57" type="sanity" >
    <t:objective> Send two SendMsgRequests with the same suid  </t:objective>

<t:property name="mail.subject2" value="message with suid"/>
<t:property name="mail.content2" value="test message "/>
<t:property name="suid" value="${TIME} "/>

    <t:test>
        <t:request>
            <SendMsgRequest suid="${suid}" xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
					<su>${mail.subject2}</su>
                    <mp ct="text/plain">
                        <content> ${mail.content2} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

    <t:test>
        <t:request>
            <SendMsgRequest suid="${suid}" xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a='${test_account1.name}'/>
					<su>${mail.subject2}</su>
                    <mp ct="text/plain">
                        <content> ${mail.content2} </content>
                    </mp>
                </m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse"/>
        </t:response>
    </t:test>

</t:test_case>

<t:test_case testcaseid="SendMessageRequest58" type="sanity" >
    <t:objective> Send a message with content type with a space in it  </t:objective>

	<t:property name="mail58.subject" value="subject${TIME}${COUNTER}"/>
	<t:property name="mail58.content" value="content${TIME}${COUNTER}"/>

    <t:test>
        <t:request>
            <SendMsgRequest xmlns="urn:zimbraMail">
                <m>
                    <e t="t" a="${test_account1.name}"/>
					<su>${mail.subject2}</su>
					<mp ct="multipart/alternative">
						<mp ct="text/plain">
							<content>${mail58.content}</content>
						</mp>
						<mp ct="application/Microsoft MapPoint">
							<content>${mail58.content}</content>
						</mp>
					</mp>
				</m>
            </SendMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:SendMsgResponse">
            	<t:select path="//mail:m" attr="id" set="message58.id"/>
            </t:select>
        </t:response>
    </t:test>

    <t:test >
        <t:request>
            <GetMsgRequest xmlns="urn:zimbraMail">
                <m id="${message58.id}"/>
            </GetMsgRequest>
        </t:request>
        <t:response>
            <t:select path="//mail:GetMsgResponse"/>
        </t:response>
    </t:test>

</t:test_case>

</t:tests>









